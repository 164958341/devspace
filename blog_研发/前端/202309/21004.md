---
title: 常见的web攻击方式及防护方法
# description: ''
# slug:
# authors:
#  - name:
#    title:
#    url:
#    image_url:
tags: []
date: 2023-09-21T11:00
hide_table_of_contents: false
# image: ''
---

### 一、针对 Web 的攻击技术

- HTTP 本身不具备必要的安全功能，需要开发者自行开发认证及会话管理功能；
- 在客户端可以篡改请求，导致 Web 应用收到与预期不一致的内容，可能包含攻击代码；
- 针对 Web 应用的攻击模式

:::tip

主动攻击：指攻击者通过直接访问 Web 应用， 把攻击代码传入，如：SQL 注入攻击和 OS 命令注 入攻击

被动攻击：是指利用圈套策略执行攻击代码的攻击模式，如：跨站脚本攻击、跨站点请求伪造
利用用户的身份攻击企业内部的网络

:::

### 二、因输出值转义不完全引发的安全漏洞

**1. 跨站脚本攻击(XSS)**

XSS(cross site scripting)攻击指的是攻击者往 Web 页面里插入恶意 html 标签或者 javascript 代码。比如：攻击者在论坛中放一个看似安全的链接，骗取用户点击后，窃取 cookie 中的用户私密信息；或者攻击者在论坛中加一个恶意表单，当用户提交表单的时候，却把信息传送到攻击者的服务器中，而不是用户原本以为的信任站点。

防范:

- 对于敏感的 cookie 信息，使用 HttpOnly，使 document 对象中找不到 cookie。
- 对于用户输入的信息要进行转义。

**2. SQL 注入攻击**

通过把 SQL 命令插入到 Web 表单递交或输入域名或页面请求的查询字符串，最终达到欺骗服务器执行恶意的 SQL 命令。

防范:

- 永远不要信任用户的输入，要对用户的输入进行校验，可以通过正则表达式，或限制长度，对单引号和双"-"进行转换等
- 永远不要使用动态拼装 SQL，可以使用参数化的 SQL 或者直接使用存储过程进行数据查询存取
- 永远不要使用管理员权限的数据库连接，为每个应用使用单独的权限有限的数据库连接
- 不要把机密信息明文存放，请加密或者 hash 掉密码和敏感的信息

**3. OS 命令注入攻击**

OS 命令注入攻击(OS Command Injection)是指通过 Web 应用，执行非法的操作系统命令达到攻击的目的。只要在能调用 Shell 函数的地 方就有存在被攻击的风险。

防范:

- 后端对前端提交内容进行规则限制（比如正则表达式）。
- 在调用系统命令前对所有传入参数进行命令行参数转义过滤。
- 不要直接拼接命令语句，借助一些工具做拼接、转义预处理，例如 Node.js 的 shell-escape npm 包

**4. HTTP 首部注入攻击**

通过在响应首部字段插入换行，添加任意响应首部或主体的一种攻击

影响：

- 设置任何 Cookie 信息
- 重定向至任意 URL
- 显示任意的主体（HTTP 响应截断攻击）

防范：

使用 https，对 http 报文做加密、认证及完整性保护，防止篡改。

**5. 邮件首部注入攻击**

Web 邮件发送功能，攻击者通过邮件首部添加非法内容发起攻击

**6. 远程文件包含漏洞**

部分脚本内容需要从其他文件读入时，攻击者利用指定外部服务器的 URL 充当依赖文件，脚本读取后进行攻击

### 三、因设置/设计缺陷引发的安全漏洞

错误设置 Web 服务器等引发的安全漏洞

- 强制浏览器：在公开目录下浏览非公开文件
- 不正确的错误消息处理：Web 应用的错误信息包含攻击者有用的信息
- 开放重定向：对任意 URL 重定向跳转到恶意网站上

### 四、因会话管理疏忽引发的安全漏洞

**1. 会话劫持**

通过某种手段拿到用户的会话 ID，伪装用户

**2. 会话固定攻击**

强制用户使用攻击者指定的会话 ID

**3. 跨站请求伪造（CSRF)**

跨站请求伪造（CSRF，Cross-site request forgery）是另一种常见的攻击。攻击者通过各种方法伪造一个请求，模仿用户提交表单的行为，从而达到修改用户的数据，或者执行特定任务的目的。为了假冒用户的身份，CSRF 攻击常常和 XSS 攻击配合起来做，但也可以通过其它手段，例如诱使用户点击一个包含攻击的链接

防范:

- 采用 POST 请求,增加攻击的难度.用户点击一个链接就可以发起 GET 类型的请求。而 POST 请求相对比较难，攻击者往往需要借助 java 才能实现
- 对请求进行认证，确保该请求确实是用户本人填写表单并提交的，而不是第三者伪造的.具体可以在会话中增加 token,确保看到信息和提交信息的是同一个人

### 五、其他安全漏洞

- 密码破解
  :::tip

- 穷举法：暴力破解，对系统进行试错。
- 字典攻击：枚举字典中的密码。
- 对加密的密码进行破解。

:::

- 点击劫持：利用透明的按钮或链接做成陷阱，覆盖在 web 页面上，诱惑用户点击
- DOS 攻击：让运行中的服务呈现停止状态

作者：前端君  
链接：https://juejin.cn/post/6929281260045434894  
来源：稀土掘金  
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。
